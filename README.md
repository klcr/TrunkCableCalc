# 低圧幹線ケーブル計算ツール

低圧幹線のケーブルサイズ選定を自動化する Web アプリケーション。許容電流・電圧降下・保護協調の 3 条件を同時に満たす最小ケーブルサイズと MCCB 定格を即座に決定する。

## 機能

- **自動選定** — 負荷条件・敷設条件を入力すると、3 条件すべてを満たす最小ケーブルサイズと MCCB 定格が即座に決まる
- **即時フィードバック** — 許容電流・電圧降下・保護協調それぞれの合否が常に見える
- **計算書出力** — 公共建築工事標準仕様書（様式 電-8-1）準拠の電路計算書を印刷・提出できる
- **親幹線の集約** — 同一幹線番号の子回路を束ねて主幹ケーブルの自動選定まで一貫して行える
- **JSON export/import** — 回路データの保存・読込に対応

## デモ

GitHub Pages: `https://<owner>.github.io/TrunkCableCalc/`

## 使い方

`index.html` をブラウザで開くだけで動作する。サーバー不要。

1. 電気方式・電圧・周波数を選択
2. 負荷条件（容量・力率・効率）を入力
3. 敷設条件（ケーブル種別・配線方式・こう長・温度・低減率）を入力
4. ケーブルサイズと MCCB 定格が自動選定される
5. 必要に応じて計算書を印刷出力

## 対象範囲

| 項目 | 内容 |
|------|------|
| 対象回路 | 低圧幹線（変圧器二次側〜分電盤、分電盤〜負荷端） |
| 対象ケーブル | 600V CV 系（CVT / CVD / CV-3C / CV-2C）、2〜325mm² |
| 計算方式 | 精密式（インピーダンス法） |
| 準拠規格 | JEAC 8001（内線規程）、電技解釈第 148 条、JCS 0168 |
| 回路種別 | 一般回路（電灯・電熱等）および電動機回路 |

## 技術スタック

| 項目 | 内容 |
|------|------|
| フレームワーク | React 18（CDN 経由、ビルドレス） |
| 言語 | JavaScript（単一 HTML ファイル） |
| スタイリング | インライン CSS |
| データ | アプリ内定数テーブル |
| 配布形態 | HTML ファイル 1 枚 |
| ホスティング | GitHub Pages（GitHub Actions でデプロイ） |

## プロジェクト構成

```
TrunkCableCalc/
├── index.html                        # アプリケーション本体
├── .github/workflows/deploy.yml      # GitHub Pages デプロイ
├── CLAUDE.md                         # AI 向け開発ガイドライン
└── README.md
```

## 将来ビジョン

現在は個別の低圧幹線回路のケーブル選定に特化しているが、将来的には以下の拡張を構想している。

### 幹線系統図の自動生成

- **複数幹線系統の統合管理** — 個別に計算した幹線回路を高圧受変電設備から末端分電盤まで一つの系統として取りまとめる
- **高圧系統図の描画** — 受電点から変圧器二次側までの高圧系統を含む単線結線図を自動生成する
- **一線地絡電流の計算** — 高圧系統の対地静電容量から一線地絡電流を算出し、系統図上に反映する
- **幹線系統図の出力** — 高圧〜低圧を通貫した幹線系統図を計算結果付きで出力し、設計図書として提出できる品質を目指す

## 参照データについて

本ツールの計算で使用するデータテーブル（`data/` ディレクトリ）は、以下の規格・文献に基づいています。これらのデータの著作権は各規格団体・発行元に帰属します。

| データ | 出典 | 発行元 |
|--------|------|--------|
| ケーブル許容電流 | JCS 0168-2:2016 | 一般社団法人 日本電線工業会（JCMA） |
| ケーブルインピーダンス | 技資第 103 号 A | 一般社団法人 日本電線工業会（JCMA） |
| ケーブル対地静電容量 | 技資第 103 号 A / JCS 0168-1:2016 | 一般社団法人 日本電線工業会（JCMA） |
| 短時間耐電流 K 定数 | JCS 0168-1:2016 / IEC 60364-4-43 | JCMA / IEC |
| 温度補正係数・低減率 | 内線規程 JEAC 8001 | 一般社団法人 日本電気協会 |
| MCCB 定格・遮断容量 | JIS C 8201-2-1:2021 | 日本産業標準調査会（JISC） |
| ELCB 仕様 | JIS C 8201-2-2:2021 | 日本産業標準調査会（JISC） |
| 変圧器 %Z・X/R 比 | JIS C 4304 / JEC 2200 | JISC / 電気学会 |
| 零相インピーダンス推定 | IEC 60909 / CENELEC CLC/TR 50480 | IEC / CENELEC |
| 変圧器特性（メーカー値） | メーカーカタログ | 河村電器産業・三菱電機 |
| MCCB 遮断容量（メーカー値） | メーカーカタログ | 三菱電機・富士電機 |

### 注意事項

- 本リポジトリに含まれるデータテーブルは、上記規格・文献の数値を参照して作成したものです。計算精度の検証や実設計への適用にあたっては、**規格原本を参照してください**
- データテーブルの著作権は各規格団体・メーカーに帰属します。これらのデータは本ツールの計算機能を実現するために収録しており、規格原本の代替となるものではありません
- 各データファイル（`data/*.json`）の `source` フィールドに出典を記載しています

## ライセンス

本リポジトリのソースコード（計算ロジック、UI コンポーネント、ビルドスクリプト等）は MIT ライセンスの下で公開しています。

ただし、`data/` ディレクトリに含まれるデータテーブルは上記「参照データについて」に記載の各規格団体・メーカーの著作物に基づいており、MIT ライセンスの対象外です。データの二次利用にあたっては各出典元の利用条件をご確認ください。
